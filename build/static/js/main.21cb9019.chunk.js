(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{270:function(e,n,t){e.exports=t(435)},280:function(e,n,t){},281:function(e,n){},343:function(e,n,t){},435:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(44),d=t.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(129),c=t(232),s=t(18),l=(t(280),t(447));t(281);l.a({dsn:"https://f1b819c7a5a34cd0b10b9211c593c2f4@sentry.io/1470444",integrations:function(e){return e.filter(function(e){return"Breadcrumbs"!==e.name})}}),c.a.add(s.g,s.f,s.j,s.t,s.a,s.e,s.r,s.b,s.m,s.o,s.h,s.w,s.p,s.q,s.x,s.d,s.v,s.k,s.n,s.y,s.u,s.c,s.l,s.i,s.z,s.s);var u=t(76),h=t(12),p=t(63),m=t(171),f=t(89),v={word:{allIds:[],byId:{}}},w={MainReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"store_words":var t=n.payload,a=t.wordIdList,r=t.wordById;(a=Object(f.a)(a)).sort(),e=Object(m.a)({},e,{word:{allIds:Object(f.a)(a),byId:Object(m.a)({},r)}})}return e},form:t(449).a},g=t(235);var b=function(){var e=Object(p.d)(Object(p.a)(g.a));return Object(p.e)(Object(p.c)(Object.assign({},w)),e)},y=t(119),O=t(120),E=t(130),W=t(121),j=t(131),N=t(451),I=t(437),C=t(448),S=t(446),V=t(452),k=t(236),A=t.n(k),M=t(30),B=t.n(M),x=(t(343),t(122));function L(){var e=Object(x.a)(["\n  query fetchWords {\n    getWords {\n      wordName\n      desc {\n        type\n        meanings\n      }\n    }\n  }\n"]);return L=function(){return e},e}var R=Object(u.b)(L());function q(){var e=Object(x.a)(["\n  mutation($wordName: String!) {\n    addWord(wordName: $wordName) {\n      wordName\n      desc {\n        type\n        meanings\n      }\n    }\n  }\n"]);return q=function(){return e},e}var T=Object(u.b)(q()),$=function(e,n){var t=e.MainReducer.word.allIds,a=Object(f.a)(t);return n.wordValue&&(a=[],t.forEach(function(e){e.includes(n.wordValue.toLowerCase())&&a.push(e)})),a},_=function(e){function n(e){var t;return Object(y.a)(this,n),(t=Object(E.a)(this,Object(W.a)(n).call(this,e))).getAllOptions=function(){var e=t.props.allIds,n=[];return e&&e.length&&e.forEach(function(e,t){n.push({key:e,value:e,text:e})}),n},t.onClose=function(){t.setState({isAddWordOpened:!1})},t.onOpen=function(){t.setState({isAddWordOpened:!0})},t.onChange=function(e,n){t.setState({inputValue:n.value})},t.postWord=function(){var e=t.state.inputValue,n=t.props,a=n.addWordMutation,r=n.addWordAction;e&&(t.setState({isSaving:!0}),r(e.toLowerCase(),a),setTimeout(function(){t.setState({isSaving:!1,inputValue:""}),t.onClose()},500))},t.getType=function(e){return B()(e,function(e,n){return r.a.createElement("div",{key:n,style:{display:"flex",fontSize:"14px"}},r.a.createElement("div",{className:"words-list-type-container"},"(",e.type,")"),e.meanings&&e.meanings.length&&t.getMeanings(e.meanings))})},t.getMeanings=function(e){var n="";return e.forEach(function(e){n="".concat(e,"; ")}),r.a.createElement("div",null,n)},t.getWords=function(){var e=t.props,n=e.allIds,a=e.findWordById,o=n.slice();return B()(o,function(e,n){var o=a(e);return r.a.createElement("div",{key:n,style:{color:"#000",marginBottom:"20px"}},r.a.createElement("div",{className:"word-list-heading"},o.wordName),o.desc&&o.desc.length&&t.getType(o.desc))})},t.state={wordOptions:[],isAddWordOpened:!1,inputValue:"",isSaving:!1},t}return Object(j.a)(n,e),Object(O.a)(n,[{key:"componentDidUpdate",value:function(e){var n=this.props,t=n.onGetWordsAction;n.allIds,n.byId;e&&e.data.loading&&this.props.data&&!this.props.data.loading&&this.props.data.getWords&&this.props.data.getWords.length&&t(this.props.data.getWords)}},{key:"render",value:function(){var e=this.state,n=(e.wordOptions,e.isAddWordOpened),t=e.inputValue,a=e.isSaving,o=this.props,d=o.wordValue,i=o.handleWordChange,c=o.handleSearchValue;return r.a.createElement("div",{className:"main-body"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title"},"Vocab"),r.a.createElement("div",{className:"input-btn"},r.a.createElement(N.a,{className:"word-picker",fluid:!0,selection:!0,clearable:!0,search:!0,options:this.getAllOptions(),value:d,placeholder:"Search",onChange:i,onSearchChange:c}))),r.a.createElement("div",{className:"display"},r.a.createElement("div",{className:"header"},"Words List"),r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"word-list"},this.getWords()),r.a.createElement("div",{className:"float-btn"},r.a.createElement(I.a,{content:"+",onClick:this.onOpen})))),r.a.createElement(C.a,{open:n,onClose:this.onClose},r.a.createElement("div",{className:"add-word-modal-container"},r.a.createElement("div",{className:"add-word-modal-input-container"},r.a.createElement(S.a,{placeholder:"Write your here...",fluid:!0,value:t,onChange:this.onChange})),r.a.createElement(I.a,{content:"Add Word",disabled:!t,onClick:this.postWord,loading:a}))))}}]),n}(a.PureComponent),z=Object(V.a)(R,{options:function(e){return{variables:{}}}})(_),G={onGetWordsAction:function(e){return function(n,t){var a=[],r={};e&&e.length&&(e.forEach(function(e){-1===a.indexOf(e.wordName)&&a.push(e.wordName),r[e.wordName]=e}),n({type:"store_words",payload:{wordIdList:a,wordById:r}}))}},addWordAction:function(e,n){return function(t,a){var r=a();n({variables:{wordName:e}}).then(function(n){if(console.log("Saveed data",n),n&&n.data&&n.data.addWord){var a=r.MainReducer.word.allIds,o=r.MainReducer.word.byId;o[e]=n.data.addWord,-1===a.indexOf(e)&&a.splice(0,0,e),t({type:"store_words",payload:{wordIdList:a,wordById:o}})}}).catch(function(e){console.error("Error in saving word",e)})}},findWordById:function(e){return function(n,t){var a=t().MainReducer.word.byId;if(a&&a[e])return a[e]}}},J=A()(Object(V.a)(T,{name:"addWordMutation"}))(z),P=Object(i.b)(function(e,n){return{allIds:$(e,n),byId:e.MainReducer.word.byId}},G)(J),D=function(e){function n(e){var t;return Object(y.a)(this,n),(t=Object(E.a)(this,Object(W.a)(n).call(this,e))).handleWordChange=function(e,n){console.log("On Handle Chnage",n.value),t.setState({wordValue:n.value})},t.handleSearchValue=function(e,n){console.log("On Search Chnage",n.value),t.setState({wordValue:n.searchQuery})},t.state={wordValue:""},t}return Object(j.a)(n,e),Object(O.a)(n,[{key:"render",value:function(){var e=this.state.wordValue;return r.a.createElement("div",{className:"app-container"},r.a.createElement(P,{wordValue:e,handleSearchValue:this.handleSearchValue,handleWordChange:this.handleWordChange}))}}]),n}(a.PureComponent),H=new u.a({uri:"https://my-word-server.herokuapp.com/graphql"}),Q=function(){return r.a.createElement(h.b,{client:H},r.a.createElement(i.a,{store:b()},r.a.createElement(D,null)))};d.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[270,1,2]]]);
//# sourceMappingURL=main.21cb9019.chunk.js.map